---
author: Panos G. Pgn
title: ffmpeg
tags: encoding
date: 02/08/2010

for ipod/iphone
    $ ffmpeg -i source_video.avi input -acodec aac -ab 128kb -vcodec mpeg4 -b 1200kb -mbd 2 -flags +4mv+trell -aic 2 -cmp 2 -subcmp 2 -s 320x180 -title X final_video.mp4
    $ ffmpeg -i source_video.avi -y -b 200000 -r 25 -s 320×240 -acodec aac -ab 128kb -vcodec mpeg4 -b 1200kb -mbd 2 -flags +4mv -cmp 2 -subcmp 2 -s 320×180 output_video.mp4

extracting sound from a video and save it as mp3
    $ ffmpeg -i source_video.avi -vn -ar 44100 -ac 2 -ab 192 -f mp3 sound.mp3

convert .avi video to .mpg
    $ ffmpeg -i video_origine.avi video_finale.mpg

mix a video with a sound file
    $ ffmpeg -i son.wav -i video_origine.avi video_finale.mpg

convert .avi to .flv
    $ ffmpeg -i video_origine.avi -ab 56 -ar 44100 -b 200 -r 15 -s 320x240 -f flv video_finale.flv
    $ ffmpeg -i source_video.avi -y -b 200000 -r 25 -s 320×240 -ab 56 -ar 44100 -f flv output_video.flv

convert .avi to dv
    $ ffmpeg -i video_origine.avi -s pal -r pal -aspect 4:3 -ar 48000 -ac 2 video_finale.dv
    $ ffmpeg -i video_origine.avi -target pal-dv video_finale.dv

convert .avi to mpeg for dvd players
    $ ffmpeg -i source_video.avi -target pal-dvd -ps 2000000000 -aspect 16:9 finale_video.mpeg

compress .avi to divx
    $ ffmpeg -i video_origine.avi -s 320x240 -vcodec msmpeg4v2 video_finale.avi

multi-pass encoding with ffmpeg
    $ ffmpeg -i fichierentree -pass 2 -passlogfile ffmpeg2pass fichiersortie-2
